@startuml
top to bottom direction

title High Level Module View of OSO Services

package "common" as common_pkg {

      object Constants {
        + MID_20_CHANNELS_WIDTH_MHZ
        + MID_CHANNEL_WIDTH_KHZ
        + LOW_CHANNEL_BLOCK_MHZ
        + LOW_CONTINUUM_CHANNEL_WIDTH_KHZ
        + LOW_PST_CHANNEL_WIDTH_KHZ
        + LOW_STATION_CHANNEL_WIDTH_MHZ
      }

      object Coordinates {
          + EquatorialResponse
          + GalacticResponse
          + ReferenceFrame
          + get_systemcoordinates()
      }

    package "auth" <<Rectangle>> {
        object auth_items {
          + Scope
      }
    }

        object coordinateslookup_items {
          + Equatorial
          + Galactic
          + convert_ra_dec_deg()
          + convert_to_galactic()
          + get_coordinates()
          + round_coord()
        }

        object error_handling_items {
          + BadRequestError
          + DuplicateError
          + NotFoundError
          + UnprocessableEntityError
          + _make_response()
          + dangerous_internal_server_handler()
          + error_details()
          + oda_error_handler()
          + oda_not_found_handler()
          + oda_unique_constraint_handler()
        }

        object model_items {
          + AppModel
          + ErrorDetails
          + ErrorResponseTraceback
          + ValidationResponse
      }

        object osdmapper_items {
          + Configuration
          + FrequencyBand
          + LowConfiguration
          + MidConfiguration
          + Subarray
          + configuration_from_osd()
          + _get_low_telescope_configuration()
          + _get_mid_telescope_configuration()
        }
}

package "odt" as odt_pkg {
    note as odt_note
    "ODT section minimized in this view"
    end note
}

package "pht" as pht_pkg {
    package "api" <<Rectangle>> {
          object panel_decision_endpoints {
            + create_panel_decision()
            + get_panel_decision()
            + get_panel_decisions_for_user()
            + update_panel_decision()
          }

        object panels_endpoints {
          + create_panel()
          + get_panel()
          + get_panels_for_user()
        }
  
        object prsls_endpoints {
          + create_delete_pdf_url()
          + create_download_pdf_url()
          + create_proposal()
          + create_upload_pdf_url()
          + get_osd_by_cycle()
          + get_proposal()
          + get_proposals_batch()
          + get_proposals_by_status()
          + get_proposals_for_user()
          + get_reviews_for_proposal()
          + send_email()
          + update_proposal()
          + validate_proposal()
        }
  
        object report_endpoints {
          + get_report()
        }
  
        object reviewers_endpoints {
          + get_reviewers()
        }
  
        object reviews_endpoints {
          + create_review()
          + get_review()
          + get_reviews_for_user()
          + update_review()
        }

    }
    
    package "pht.utils" <<Rectangle>> {
      note as utils_note
      "utils section minimized in this view"
      end note
    }
    
    package "pht.model" <<Rectangle>> {
      note as model_note
      "model section minimized in this view"
      end note
    }

}

package "app" <<Rectangle>> {
    class create_app <<function>>
}




common_pkg -left-> app.create_app
pht_pkg -down-> app.create_app
odt_pkg -up-> app.create_app
@enduml